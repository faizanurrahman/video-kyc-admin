import { CommonModule } from '@angular/common';
import { Component, ElementRef, ViewChild } from '@angular/core';
import { NavigationCancel, NavigationEnd, Router } from '@angular/router';
import { Subscription } from 'rxjs';
import { ScrollComponent } from '../../../../_metronic/kt/components';

export interface Transaction {
  id: any;
  date: any;
  type: any;
  amount: any;
  status: any;
  name: any;
}

@Component({
  selector: 'app-recent-transactions',
  templateUrl: './recent-transactions.component.html',
  styleUrls: ['./recent-transactions.component.scss'],
  standalone: true,
  imports: [CommonModule],
})
export class RecentTransactionsComponent {
  transactions: Partial<Transaction>[] = [
    {
      id: '5400021646633579',
      name: 'mastercard',
      date: '30/11/2022',
      status: true,
      amount: '$7992.33',
    },
    {
      id: '374288747115920',
      name: 'americanexpress',
      date: '21/04/2022',
      status: false,
      amount: '$5275.90',
    },
    {
      id: '3561873629166633',
      name: 'jcb',
      date: '23/01/2022',
      status: true,
      amount: '$7709.35',
    },
    {
      id: '30370669766181',
      name: 'diners-club-carte-blanche',
      date: '07/06/2022',
      status: true,
      amount: '$4179.80',
    },
    {
      id: '30480697129789',
      name: 'diners-club-carte-blanche',
      date: '14/08/2022',
      status: false,
      amount: '$1113.62',
    },
    {
      id: '3569587491424175',
      name: 'jcb',
      date: '18/01/2022',
      status: false,
      amount: '$8602.60',
    },
    {
      id: '6377959101015385',
      name: 'instapayment',
      date: '26/09/2022',
      status: true,
      amount: '$8972.83',
    },
    {
      id: '4175001899910276',
      name: 'visa-electron',
      date: '02/01/2023',
      status: true,
      amount: '$1768.82',
    },
    {
      id: '30297661642187',
      name: 'diners-club-carte-blanche',
      date: '22/07/2022',
      status: true,
      amount: '$2297.56',
    },
    {
      id: '4905486883966480145',
      name: 'switch',
      date: '09/03/2022',
      status: false,
      amount: '$7117.52',
    },
    {
      id: '3544106553312994',
      name: 'jcb',
      date: '22/09/2022',
      status: true,
      amount: '$7445.28',
    },
    {
      id: '4026795324628640',
      name: 'visa-electron',
      date: '12/03/2022',
      status: true,
      amount: '$5365.71',
    },
    {
      id: '676308371272205080',
      name: 'maestro',
      date: '26/06/2022',
      status: true,
      amount: '$9220.80',
    },
    {
      id: '30271631073013',
      name: 'diners-club-carte-blanche',
      date: '13/11/2022',
      status: false,
      amount: '$3019.85',
    },
    {
      id: '4041375920355426',
      name: 'visa',
      date: '28/07/2022',
      status: false,
      amount: '$3433.94',
    },
    {
      id: '3535735740271241',
      name: 'jcb',
      date: '02/03/2022',
      status: true,
      amount: '$7412.24',
    },
    {
      id: '5488007298931002',
      name: 'mastercard',
      date: '31/05/2022',
      status: true,
      amount: '$6123.48',
    },
    {
      id: '5602219912812945',
      name: 'bankcard',
      date: '18/11/2022',
      status: true,
      amount: '$7667.19',
    },
    {
      id: '6763427676103591367',
      name: 'maestro',
      date: '07/03/2022',
      status: true,
      amount: '$9866.06',
    },
    {
      id: '3539471136584783',
      name: 'jcb',
      date: '03/11/2022',
      status: false,
      amount: '$754.29',
    },
    {
      id: '3571908734984047',
      name: 'jcb',
      date: '17/09/2022',
      status: true,
      amount: '$6617.27',
    },
    {
      id: '30395305072405',
      name: 'diners-club-carte-blanche',
      date: '30/09/2022',
      status: true,
      amount: '$1694.63',
    },
    {
      id: '4041590737078',
      name: 'visa',
      date: '17/05/2022',
      status: false,
      amount: '$1465.50',
    },
    {
      id: '5048371118555158',
      name: 'mastercard',
      date: '08/09/2022',
      status: true,
      amount: '$4045.05',
    },
    {
      id: '5641826160686921',
      name: 'switch',
      date: '08/10/2022',
      status: false,
      amount: '$1565.44',
    },
    {
      id: '3557754866796322',
      name: 'jcb',
      date: '04/12/2022',
      status: true,
      amount: '$6389.96',
    },
    {
      id: '3542089022574166',
      name: 'jcb',
      date: '02/05/2022',
      status: false,
      amount: '$1386.63',
    },
    {
      id: '3552318922268661',
      name: 'jcb',
      date: '13/09/2022',
      status: false,
      amount: '$5734.20',
    },
    {
      id: '5602217239425944155',
      name: 'china-unionpay',
      date: '24/04/2022',
      status: false,
      amount: '$770.36',
    },
    {
      id: '3564443296818150',
      name: 'jcb',
      date: '03/06/2022',
      status: true,
      amount: '$2029.95',
    },
    {
      id: '3587339818726421',
      name: 'jcb',
      date: '28/08/2022',
      status: false,
      amount: '$2785.84',
    },
    {
      id: '3557079625425561',
      name: 'jcb',
      date: '22/08/2022',
      status: true,
      amount: '$7293.11',
    },
    {
      id: '337941477883333',
      name: 'americanexpress',
      date: '03/06/2022',
      status: false,
      amount: '$6069.15',
    },
    {
      id: '5602215916187847',
      name: 'bankcard',
      date: '16/12/2022',
      status: true,
      amount: '$358.69',
    },
    {
      id: '3534853416766203',
      name: 'jcb',
      date: '06/02/2022',
      status: false,
      amount: '$1267.21',
    },
    {
      id: '371868709794573',
      name: 'americanexpress',
      date: '01/02/2022',
      status: false,
      amount: '$104.96',
    },
    {
      id: '3554318993693464',
      name: 'jcb',
      date: '15/08/2022',
      status: false,
      amount: '$1148.23',
    },
    {
      id: '3580384077525111',
      name: 'jcb',
      date: '03/05/2022',
      status: true,
      amount: '$5674.44',
    },
    {
      id: '5602220131932977',
      name: 'bankcard',
      date: '19/08/2022',
      status: true,
      amount: '$4399.42',
    },
    {
      id: '4405454823453636',
      name: 'visa-electron',
      date: '01/03/2022',
      status: false,
      amount: '$2162.27',
    },
    {
      id: '30034054479814',
      name: 'diners-club-carte-blanche',
      date: '08/06/2022',
      status: false,
      amount: '$8695.45',
    },
    {
      id: '3535956912635878',
      name: 'jcb',
      date: '22/04/2022',
      status: true,
      amount: '$1061.23',
    },
    {
      id: '3548324027362992',
      name: 'jcb',
      date: '03/05/2022',
      status: false,
      amount: '$5170.19',
    },
    {
      id: '3528581853874721',
      name: 'jcb',
      date: '03/08/2022',
      status: false,
      amount: '$9488.30',
    },
    {
      id: '3540459201368106',
      name: 'jcb',
      date: '14/03/2022',
      status: true,
      amount: '$6818.83',
    },
    {
      id: '3555141732427617',
      name: 'jcb',
      date: '14/06/2022',
      status: false,
      amount: '$2599.10',
    },
    {
      id: '3546724697433191',
      name: 'jcb',
      date: '12/11/2022',
      status: false,
      amount: '$4605.73',
    },
    {
      id: '5100177264423074',
      name: 'mastercard',
      date: '27/03/2022',
      status: true,
      amount: '$3226.21',
    },
    {
      id: '30128912799528',
      name: 'diners-club-carte-blanche',
      date: '12/05/2022',
      status: true,
      amount: '$2328.71',
    },
    {
      id: '201439441359038',
      name: 'diners-club-enroute',
      date: '26/04/2022',
      status: true,
      amount: '$3260.27',
    },
    {
      id: '3568105273767009',
      name: 'jcb',
      date: '27/05/2022',
      status: true,
      amount: '$5001.41',
    },
    {
      id: '5108752585874320',
      name: 'mastercard',
      date: '14/11/2022',
      status: false,
      amount: '$9582.82',
    },
    {
      id: '5100136793152570',
      name: 'mastercard',
      date: '30/09/2022',
      status: true,
      amount: '$1345.56',
    },
    {
      id: '6383347275946035',
      name: 'instapayment',
      date: '18/06/2022',
      status: false,
      amount: '$5741.35',
    },
    {
      id: '3574286503203700',
      name: 'jcb',
      date: '13/01/2022',
      status: false,
      amount: '$6434.42',
    },
    {
      id: '633464430635180322',
      name: 'solo',
      date: '04/01/2023',
      status: false,
      amount: '$7136.42',
    },
    {
      id: '36559252991362',
      name: 'diners-club-international',
      date: '24/02/2022',
      status: true,
      amount: '$9121.50',
    },
    {
      id: '3573041136259202',
      name: 'jcb',
      date: '28/04/2022',
      status: false,
      amount: '$3821.57',
    },
    {
      id: '5144484141139271',
      name: 'mastercard',
      date: '23/12/2022',
      status: false,
      amount: '$688.33',
    },
    {
      id: '3578309268472470',
      name: 'jcb',
      date: '23/07/2022',
      status: true,
      amount: '$4608.93',
    },
    {
      id: '374288275154853',
      name: 'americanexpress',
      date: '03/08/2022',
      status: false,
      amount: '$8960.83',
    },
    {
      id: '5010129687949317',
      name: 'mastercard',
      date: '01/12/2022',
      status: false,
      amount: '$5915.56',
    },
    {
      id: '374622496847798',
      name: 'americanexpress',
      date: '31/03/2022',
      status: true,
      amount: '$5145.93',
    },
    {
      id: '5277129041135270',
      name: 'mastercard',
      date: '28/07/2022',
      status: true,
      amount: '$3766.35',
    },
    {
      id: '3588595522202970',
      name: 'jcb',
      date: '23/05/2022',
      status: false,
      amount: '$8729.32',
    },
    {
      id: '0604016236852956',
      name: 'maestro',
      date: '07/09/2022',
      status: false,
      amount: '$9085.36',
    },
    {
      id: '4026258795230107',
      name: 'visa-electron',
      date: '05/07/2022',
      status: true,
      amount: '$2888.99',
    },
    {
      id: '5038067080336310',
      name: 'maestro',
      date: '28/04/2022',
      status: true,
      amount: '$5088.09',
    },
    {
      id: '5100148518072850',
      name: 'mastercard',
      date: '29/03/2022',
      status: false,
      amount: '$1610.02',
    },
    {
      id: '56022149379277743',
      name: 'china-unionpay',
      date: '16/03/2022',
      status: false,
      amount: '$7371.92',
    },
    {
      id: '6759657284251870',
      name: 'switch',
      date: '22/10/2022',
      status: false,
      amount: '$6880.18',
    },
    {
      id: '3547250463493747',
      name: 'jcb',
      date: '07/04/2022',
      status: false,
      amount: '$6116.39',
    },
    {
      id: '5602242939513015',
      name: 'bankcard',
      date: '23/11/2022',
      status: false,
      amount: '$997.94',
    },
    {
      id: '3553508470296952',
      name: 'jcb',
      date: '22/05/2022',
      status: false,
      amount: '$4667.71',
    },
    {
      id: '670913666809653565',
      name: 'laser',
      date: '26/08/2022',
      status: true,
      amount: '$4532.21',
    },
    {
      id: '3586495968802007',
      name: 'jcb',
      date: '03/11/2022',
      status: true,
      amount: '$7441.85',
    },
    {
      id: '5007662268283933',
      name: 'mastercard',
      date: '03/10/2022',
      status: true,
      amount: '$5335.58',
    },
    {
      id: '3557094573828682',
      name: 'jcb',
      date: '24/08/2022',
      status: false,
      amount: '$4158.06',
    },
    {
      id: '4508334005488392',
      name: 'visa-electron',
      date: '02/09/2022',
      status: true,
      amount: '$8373.27',
    },
    {
      id: '3528541890558547',
      name: 'jcb',
      date: '04/12/2022',
      status: true,
      amount: '$7808.50',
    },
    {
      id: '5579182410853887',
      name: 'mastercard',
      date: '23/03/2022',
      status: true,
      amount: '$2862.36',
    },
    {
      id: '3560253415372565',
      name: 'jcb',
      date: '17/10/2022',
      status: true,
      amount: '$7393.88',
    },
    {
      id: '3535844416177037',
      name: 'jcb',
      date: '27/07/2022',
      status: true,
      amount: '$1937.15',
    },
    {
      id: '30489647716868',
      name: 'diners-club-carte-blanche',
      date: '11/06/2022',
      status: false,
      amount: '$370.63',
    },
    {
      id: '5038772631314324',
      name: 'maestro',
      date: '27/10/2022',
      status: true,
      amount: '$413.29',
    },
    {
      id: '5372915627279191',
      name: 'mastercard',
      date: '02/09/2022',
      status: true,
      amount: '$9722.31',
    },
    {
      id: '3560347293124955',
      name: 'jcb',
      date: '21/02/2022',
      status: false,
      amount: '$4782.83',
    },
    {
      id: '3581337384647993',
      name: 'jcb',
      date: '15/10/2022',
      status: true,
      amount: '$355.83',
    },
    {
      id: '3540986939820602',
      name: 'jcb',
      date: '02/11/2022',
      status: false,
      amount: '$5318.21',
    },
    {
      id: '5100147686835890',
      name: 'mastercard',
      date: '31/07/2022',
      status: false,
      amount: '$35.13',
    },
    {
      id: '630403727052326035',
      name: 'maestro',
      date: '02/09/2022',
      status: true,
      amount: '$4974.30',
    },
    {
      id: '5187773176778328',
      name: 'mastercard',
      date: '04/05/2022',
      status: false,
      amount: '$1551.88',
    },
    {
      id: '3571940707108593',
      name: 'jcb',
      date: '08/03/2022',
      status: false,
      amount: '$2975.93',
    },
    {
      id: '3558732739126264',
      name: 'jcb',
      date: '03/12/2022',
      status: false,
      amount: '$8486.57',
    },
    {
      id: '3531971714919853',
      name: 'jcb',
      date: '19/11/2022',
      status: false,
      amount: '$9247.23',
    },
    {
      id: '4041595146127',
      name: 'visa',
      date: '30/08/2022',
      status: false,
      amount: '$1256.06',
    },
    {
      id: '3581481857854452',
      name: 'jcb',
      date: '25/03/2022',
      status: false,
      amount: '$7427.08',
    },
    {
      id: '3554807009231541',
      name: 'jcb',
      date: '30/04/2022',
      status: true,
      amount: '$7072.95',
    },
    {
      id: '5010122353234353',
      name: 'mastercard',
      date: '08/06/2022',
      status: true,
      amount: '$8105.15',
    },
    {
      id: '56022308269161983',
      name: 'china-unionpay',
      date: '01/10/2022',
      status: true,
      amount: '$9485.44',
    },
  ];

  @ViewChild('scrollBodys', { static: true }) bodyScroll: ElementRef;
  private unsubscribe: Subscription[] = [];

  constructor(private router: Router) {}

  routingChanges() {
    const routerSubscription = this.router.events.subscribe(event => {
      if (event instanceof NavigationEnd || event instanceof NavigationCancel) {
        this.menuReinitialization();
      }
    });
    this.unsubscribe.push(routerSubscription);
  }

  menuReinitialization() {
    setTimeout(() => {
      // MenuComponent.reinitialization();
      // DrawerComponent.reinitialization();
      // ToggleComponent.reinitialization();
      ScrollComponent.reinitialization();
      if (this.bodyScroll && this.bodyScroll.nativeElement) {
        this.bodyScroll.nativeElement.scrollTop = 0;
      }
    }, 50);
  }
}
